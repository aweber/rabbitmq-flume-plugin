/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'java'
    id 'maven-publish'
}

repositories {
    mavenLocal()
    maven {
        url = 'http://repo.maven.apache.org/maven2'
    }
}

dependencies {
    //compile 'com.rabbitmq:amqp-client:4.10.0'
    compile group: 'com.rabbitmq', name: 'amqp-client', version:'4.10.0'
    compile(group: 'org.apache.flume', name: 'flume-ng-core', version:'1.9.0')
    compile 'net.jodah:lyra:0.5.2'
    testCompile 'junit:junit:4.11'
    testCompile 'org.easymock:easymock:3.3'
    testCompile 'org.powermock:powermock-module-junit4:1.6.0'
    testCompile 'org.powermock:powermock-api-easymock:1.6.0'
    //compileOnly 'org.apache.flume:flume-ng-core:1.9.0'
}

group = 'com.aweber'
version = '1.1.0'
description = 'rabbitmq-flume-plugin'
sourceCompatibility = '1.8'

publishing {
    publications {
        maven(MavenPublication) {
            from(components.java)
        }
    }
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

jar {
    zip64 true
    from {
        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
    }
}
